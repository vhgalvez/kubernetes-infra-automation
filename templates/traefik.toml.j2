[entryPoints]
  [entryPoints.web]
    address = ":80"
  [entryPoints.websecure]
    address = ":443"

[api]
  dashboard = true
  insecure = true

[providers.docker]
  endpoint = "unix:///var/run/docker.sock"
  exposedByDefault = false

[log]
  level = "DEBUG"

[accessLog]

[http.routers]
  [http.routers.api]
    entryPoints = ["websecure"]
    service = "api@internal"
    rule = "Host(`{{ traefik_domain }}`)"

  [http.routers.whoami]
    entryPoints = ["web"]
    service = "whoami"
    rule = "Host(`whoami.localhost`)"

  [http.routers.whoami-secure]
    entryPoints = ["websecure"]
    service = "whoami"
    rule = "Host(`whoami.localhost`)"